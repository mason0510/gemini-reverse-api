# ============================================================
# Gemini Reverse API v4.1 环境变量配置
# ============================================================
# 复制此文件为 .env 并填入实际值
# 最后更新: 2025-12-29

# ===== 服务器部署配置 =====

# 部署服务器SSH地址
DEPLOY_SERVER=root@82.29.54.80

# API公开域名
API_DOMAIN=google-api.aihang365.com

# 服务端口
PORT=8100

# Docker容器名称
CONTAINER_NAME=google-reverse

# Docker镜像名称
IMAGE_NAME=google-reverse-api

# API 访问密钥（可选，留空则不验证）
API_KEY=

# ===== Gemini Provider 配置（优先方式 - 官方API） =====
# 说明: 使用官方API格式，通过代理服务器转发，无需Cookie
# 优先级: Provider > Cookie
# 优势: 稳定、无需Cookie维护、响应快

# 是否启用Provider模式（true/false）
ENABLE_PROVIDER_MODE=true

# Provider API基础URL
PROVIDER_BASE_URL=http://your-proxy-server:port/proxy/gemini-hk/v1beta

# Provider认证Token
PROVIDER_AUTH_TOKEN=your-auth-token

# Provider默认模型
PROVIDER_DEFAULT_MODEL=gemini-3-flash-preview

# Provider可用模型列表（逗号分隔）- 共9个模型
# Gemini系列(5个): gemini-2.5-flash, gemini-2.5-flash-lite, gemini-3-flash-preview, gemini-flash-latest, gemini-flash-lite-latest
# Gemma系列(4个): gemma-3-1b-it, gemma-3-4b-it, gemma-3-12b-it, gemma-3-27b-it
PROVIDER_MODELS=gemini-2.5-flash,gemini-2.5-flash-lite,gemini-3-flash-preview,gemini-flash-latest,gemini-flash-lite-latest,gemma-3-1b-it,gemma-3-4b-it,gemma-3-12b-it,gemma-3-27b-it

# ===== 文本/图片生成（Cookie 方式 - 备用） =====
# 说明: Cookie用于调用Gemini WebAPI，Provider不可用时的备用方案
# 获取方式: 使用浏览器插件导出或BitBrowser自动提取
# 有效期: PSID/PSIDCC约1年，PSIDTS约几小时~几天

SECURE_1PSID=your-secure-1psid-cookie
SECURE_1PSIDCC=your-secure-1psidcc-cookie
SECURE_1PSIDTS=your-secure-1psidts-cookie

# ===== 语音生成 TTS（API Key 方式） =====
# 说明: Google AI API Key用于TTS语音合成功能
# 获取方式: https://aistudio.google.com/app/apikey
# 注意: 免费配额有限，可能返回429错误

GOOGLE_AI_API_KEY=your-google-ai-api-key

# 备用 API Key（可选）
GOOGLE_AI_API_KEY_BACKUP=

# ===== 限流配置 =====

# 每小时最大请求数（默认60）
MAX_REQUESTS_PER_HOUR=60

# 同一模型最小请求间隔（秒）
MODEL_RATE_LIMIT_SECONDS=5

# 最大并发请求数
MAX_CONCURRENCY=2

# ===== Bark 通知配置（可选） =====
# 说明: 当Cookie过期时发送通知

# Bark设备Key
BARK_KEY=

# Bark服务器地址
BARK_SERVER=https://api.day.app

# 是否启用Bark通知
ENABLE_BARK_NOTIFICATION=false

# ===== 代理配置（可选） =====
# 说明: 用于访问需要代理的地区

# SOCKS5代理地址（URL编码格式）
# 格式: socks5://用户名:密码@IP:端口
# 注意: 密码中的@需要编码为%40
SOCKS5_PROXY=socks5://root:Zhxc6545398%40@31.58.223.134:1080

# ===== BitBrowser配置（Cookie自动提取） =====
# 说明: 用于从BitBrowser自动提取Gemini Cookie

# BitBrowser Local Server地址
BITBROWSER_API=http://127.0.0.1:54345

# BitBrowser中Gemini窗口名称（用于识别正确的浏览器配置）
BITBROWSER_GEMINI_WINDOW=gemini

# ===== Google账号配置（仅供参考，不在代码中使用） =====
# 说明: 记录用于登录Gemini的Google账号，便于管理
# 警告: 此信息仅供参考，请勿在代码中直接使用

# Google账号邮箱
GOOGLE_ACCOUNT_EMAIL=
# Google账号密码（建议使用应用专用密码）
GOOGLE_ACCOUNT_PASSWORD=

# ===== 水印去除配置 =====
# 说明: 自动去除Gemini生成图片的水印
# 需要文件: watermark_remover.py, bg_48.png, bg_96.png

# 是否启用水印去除（true/false）
ENABLE_WATERMARK_REMOVAL=true

# ===== Cookie自动续期配置 =====
# 说明: gemini-webapi每9分钟自动刷新Cookie，此功能将刷新后的Cookie持久化到文件

# Cookie持久化文件路径
COOKIE_PERSIST_PATH=/app/cookies_persist.json

# Cookie保存间隔（秒）
COOKIE_SAVE_INTERVAL=300
